## 面试官考察方式（3种）

1. **直接提问**："`let` 和 `var` 在全局作用域有什么区别？"
2. **代码输出**：给你一段代码，问打印结果是什么
3. **深度追问**：为什么要这样设计？有什么实际影响？

---

## 满分回答模板（背这个）

> "使用 `let` 在全局声明的变量**不会**成为 `window` 的属性，而 `var` 会。这是因为 ES6 为了修复 `var` 的缺陷，给 `let/const` 创建了独立的**词法作用域**，避免全局污染。`let` 声明的变量存在于**全局作用域**但不在 **全局对象**上，这是两个不同的概念。"

---

## 逐行注释代码解读

### 示例1：基础对比（必考）

```javascript
// 使用 var 声明全局变量（老旧方式）
var varVariable = "我是 var";  
// 等同于 window.varVariable = "我是 var"
// var 会把变量"挂"到 window 对象上，就像给 window 这个"大房子"挂了个名牌

// 使用 let 声明全局变量（现代方式）
let letVariable = "我是 let";
// let 只把变量注册到**全局环境记录**中，但不挂到 window 上
// 就像在公司登记了信息，但没贴在公告栏

// 测试1：var 变量可以通过 window 访问
console.log(window.varVariable);  // 输出："我是 var"
// 因为 varVariable 是 window 对象的属性，所以能取到

// 测试2：let 变量不能通过 window 访问
console.log(window.letVariable);  // 输出：undefined
// 因为 letVariable 不是 window 的属性，所以 undefined

// 测试3：但 let 变量在全局作用域是存在的
console.log(letVariable);  // 输出："我是 let"
// 直接访问变量名是可以的，因为它在全局作用域
```

### 示例2：面试官常考的"陷阱题"

```javascript
// 先声明一个全局的 let 变量
let age = 25;

// 然后在代码某处意外给 window.age 赋值
window.age = 30;  // 这里创建的是 window 的一个**新属性**

console.log(age);      // 输出：25（let 变量没变）
console.log(window.age); // 输出：30（这是 window 的属性，两个不同的东西）

// 证明它们是两个独立的"变量"
console.log(age === window.age);  // 输出：false
```

### 示例3：实际应用场景（理解这个就真懂了）

```javascript
// 假设你在开发一个大型项目，引入了多个第三方库

// 库的代码1（使用 var）
var config = { version: "1.0" };  // 糟糕！这个 config 挂到了 window 上

// 库的代码2（也使用 var）
var config = { version: "2.0" };  // 覆盖了前面的 config！出大事了！

console.log(window.config.version);  // 输出：2.0（第一个库被覆盖了）

// 如果你的代码使用 let
let myConfig = { version: "3.0" };  // 安全的，不会污染 window

// 第三方库再怎么改，也影响不到你的 myConfig
window.config = { version: "4.0" };  // 这只是改 window 的属性

console.log(myConfig.version);  // 输出：3.0（你的变量安全）
console.log(window.config.version);  // 输出：4.0
```

---

## 原理一句话总结

**`var` 是 window 的"亲儿子"，出生就挂在 window 上；`let` 是"独立成年人"，只在全球"户籍系统"（作用域）登记，但不跟 window 住一起。**

---

## 如果面试官追问"为什么这样设计"

> "ES6 这样设计是为了**防止全局变量污染**。早期 JS 用 `var` 声明的变量都会变成 `window` 的属性，不同脚本之间容易互相覆盖。`let/const` 创建了更干净的机制，让全局变量和 window 属性分离，符合现代模块化开发的需求。"

**再给你个记忆口诀**：
- `var` → **V**ery **A**nnoying（很烦人，会污染全局）
- `let` → **L**ove **E**nvironment（爱环境，不污染）

这样回答，面试官会觉得你既懂语法也懂设计思想，稳过！
