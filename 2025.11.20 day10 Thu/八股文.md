# ğŸ¯ é¢è¯•å…«è‚¡æ–‡ï¼šJS è¿ç»­ bind çš„ this æŒ‡å‘é—®é¢˜

---

## **ä¸€ã€é¢è¯•å®˜å¸¸è§æé—®æ–¹å¼**

### **æ–¹å¼ 1ï¼šç›´æ¥æ¦‚å¿µé¢˜**
> "è¿ç»­å¤šæ¬¡è°ƒç”¨ bindï¼Œthis æœ€ç»ˆæŒ‡å‘ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ"

### **æ–¹å¼ 2ï¼šä»£ç è¾“å‡ºé¢˜**
> "è¯·è¯´å‡ºä¸‹é¢ä»£ç çš„è¾“å‡ºå¹¶è§£é‡ŠåŸå› "
> ```js
> function foo() { console.log(this.a); }
> const obj1 = { a: 1 }, obj2 = { a: 2 }, obj3 = { a: 3 };
> const bound = foo.bind(obj1).bind(obj2).bind(obj3);
> bound(); // è¾“å‡ºï¼Ÿ
> ```

### **æ–¹å¼ 3ï¼šæ‰‹å†™å®ç°é¢˜**
> "è¯·æ‰‹å†™ä¸€ä¸ªç®€åŒ–ç‰ˆçš„ bind å‡½æ•°ï¼Œå¹¶è§£é‡Šä¸ºä»€ä¹ˆå¤šæ¬¡ bind æ— æ•ˆ"

### **æ–¹å¼ 4ï¼šå¯¹æ¯”è¾¨æé¢˜**
> "bindã€callã€apply çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿç®­å¤´å‡½æ•°çš„ this å’Œ bind ç»‘å®šçš„ this è°ä¼˜å…ˆçº§æ›´é«˜ï¼Ÿ"

---

## **äºŒã€æ ‡å‡†ç­”æ¡ˆæ¨¡æ¿ï¼ˆå¿…é¡»èƒŒç†Ÿï¼‰**

### **æ ¸å¿ƒç»“è®ºï¼ˆå…ˆå£°å¤ºäººï¼‰**
**å¤šæ¬¡ bind åªè®¤ç¬¬ä¸€æ¬¡ï¼Œåç»­ bind æ— æ•ˆã€‚this æ°¸è¿œæŒ‡å‘ç¬¬ä¸€ä¸ªé null/undefined çš„ç»‘å®šå¯¹è±¡ã€‚**

### **æŠ€æœ¯åŸç†ï¼ˆå±•ç¤ºæ·±åº¦ï¼‰**
1. **bind çš„ä¸å¯é€†æ€§**ï¼š`bind()` è¿”å›çš„æ˜¯ä¸€ä¸ª**æ–°å‡½æ•°**ï¼Œè¯¥å‡½æ•°å†…éƒ¨é€šè¿‡é—­åŒ…æ°¸ä¹…ä¿å­˜äº†åˆæ¬¡ç»‘å®šçš„ this ä¸Šä¸‹æ–‡ï¼Œåç»­å†å¯¹è¿”å›å‡½æ•°è°ƒç”¨ bind æ— æ³•ä¿®æ”¹å·²é—­åŒ…çš„ this å€¼
2. **null/undefined çš„ç‰¹æ®Šå¤„ç†**ï¼šè‹¥ bind çš„å‚æ•°æ˜¯ null æˆ– undefinedï¼Œthis ä¼šæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆæµè§ˆå™¨ä¸º `window`ï¼ŒNode ä¸º `global`ï¼‰ï¼Œè¿™æ˜¯ JS çš„"å…œåº•æœºåˆ¶"
3. **ç»‘å®šä¼˜å…ˆçº§**ï¼šnew > æ˜¾å¼ç»‘å®š(call/apply/bind) > éšå¼ç»‘å®š(obj.fn()) > é»˜è®¤ç»‘å®š

### **ä»£ç åˆ†æï¼ˆé€è¡Œæ‹†è§£ï¼‰**
```js
// å®šä¹‰å‡½æ•°
function foo() { console.log(this.name); }

// åˆ›å»ºå¯¹è±¡
const obj1 = { name: 'A' };
const obj2 = { name: 'B' };

// è¿ç»­ç»‘å®š
const bound = foo.bind(obj1)  // è¿”å›æ–°å‡½æ•° f1: this = obj1 (é—­åŒ…é”å®š)
                 .bind(obj2)  // å¯¹ f1 å†ç»‘å®šï¼Œè¿”å› f2ï¼Œä½† f1 çš„ this å·²é”å®šï¼Œæ— æ•ˆ
                 .bind(null); // å¯¹ f2 å†ç»‘å®šï¼Œè¿”å› f3ï¼Œä¾ç„¶æ— æ•ˆ

bound(); // è¾“å‡º "A"
```

**æ‰§è¡Œæµç¨‹ï¼š**
1. `foo.bind(obj1)` â†’ ç”Ÿæˆ **f1**ï¼Œå†…éƒ¨ `[[BoundThis]] = obj1`
2. `f1.bind(obj2)` â†’ ç”Ÿæˆ **f2**ï¼Œå°è¯•ä¿®æ”¹ `[[BoundThis]]` å¤±è´¥ï¼ˆåªè¯»ï¼‰
3. `f2.bind(null)` â†’ ç”Ÿæˆ **f3**ï¼Œå°è¯•ä¿®æ”¹ `[[BoundThis]]` å¤±è´¥
4. `bound()` â†’ `this` å– `[[BoundThis]]` çš„å€¼ **obj1**

---

## **ä¸‰ã€å›ç­”è¦ç‚¹ï¼ˆç»“æ„åŒ–è¡¨è¾¾ï¼‰**

### **æ¨èè¯æœ¯ç»“æ„ï¼š**

**1. ç»“è®ºå…ˆè¡Œï¼ˆè®©é¢è¯•å®˜å¬åˆ°é‡ç‚¹ï¼‰**
> "è¿™é“é¢˜è€ƒå¯Ÿçš„æ˜¯ bind çš„ä¸å¯é€†æ€§ã€‚ç»“è®ºæ˜¯ï¼š**åªè®¤ç¬¬ä¸€æ¬¡ç»‘å®š**ï¼Œåç»­çš„ bind è°ƒç”¨éƒ½æ— æ³•æ”¹å˜ this æŒ‡å‘ã€‚"

**2. åŸç†å‰–æï¼ˆå±•ç¤ºç†è§£æ·±åº¦ï¼‰**
> "å› ä¸º bind è¿”å›çš„æ˜¯ä¸€ä¸ª**åŒ…è£…å‡½æ•°**ï¼Œè¿™ä¸ªåŒ…è£…å‡½æ•°é€šè¿‡é—­åŒ…ä¿å­˜äº†æœ€åˆçš„ thisã€‚åç»­å†å¯¹è¿™ä¸ªåŒ…è£…å‡½æ•°è°ƒç”¨ bindï¼Œåªæ˜¯åœ¨å¤–å±‚å†åŒ…ä¸€å±‚ï¼Œä½†æ ¸å¿ƒçš„ this å·²ç»å›ºåŒ–åœ¨é—­åŒ…é‡Œäº†ã€‚"

**3. åˆ†æ­¥å›¾è§£ï¼ˆé€‚åˆç™½æ¿é¢è¯•ï¼‰"
```plaintext
fooå‡½æ•°
  â†“ bind(obj1)
åŒ…è£…å‡½æ•°1: [[BoundThis]] = obj1
  â†“ bind(obj2)
åŒ…è£…å‡½æ•°2: [[BoundThis]] = obj1 (æ— æ•ˆä¿®æ”¹)
  â†“ bind(null)
åŒ…è£…å‡½æ•°3: [[BoundThis]] = obj1 (æ— æ•ˆä¿®æ”¹)

æœ€ç»ˆ this = obj1
```

**4. è¾¹ç•Œæƒ…å†µè¡¥å……ï¼ˆä½“ç°ä¸¥è°¨æ€§ï¼‰**
> "éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç¬¬ä¸€æ¬¡ bind çš„æ˜¯ null æˆ– undefinedï¼Œthis ä¼šæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œè¿™å¯èƒ½å¯¼è‡´å…¨å±€æ±¡æŸ“ã€‚ES5+ ç¯å¢ƒä¸­ï¼Œå¦‚æœæ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œåˆ™ this ä¸º undefinedã€‚"

---

## **å››ã€åŠ åˆ†é¡¹ï¼ˆæ‹‰å¼€å·®è·çš„å…³é”®ï¼‰**

### **åŠ åˆ† 1ï¼šæåŠè§„èŒƒç»†èŠ‚ **
> "æ ¹æ® ECMAScript è§„èŒƒï¼Œbind è¿”å›çš„å‡½æ•°æœ‰ä¸€ä¸ªå†…éƒ¨æ§½ä½ `[[BoundThis]]`ï¼Œè¿™ä¸ªå€¼åœ¨å‡½æ•°åˆ›å»ºæ—¶å°±ç¡®å®šäº†ï¼Œ** ä¸å¯å˜æ›´ **ã€‚åç»­è°ƒç”¨ bind åªæ˜¯å¯¹è¿™ä¸ªå·²ç»‘å®šå‡½æ•°è¿›è¡Œå†åŒ…è£…ï¼Œä½†æ— æ³•ä¿®æ”¹å…¶å†…éƒ¨çš„ `[[BoundThis]]`ã€‚"

### ** åŠ åˆ† 2ï¼šä¸»åŠ¨å¯¹æ¯” related concepts **
> "ç›¸æ¯”ä¹‹ä¸‹ï¼Œcall/apply æ˜¯** ä¸€æ¬¡æ€§ç»‘å®š **ï¼Œç›´æ¥æ‰§è¡Œï¼›è€Œ bind æ˜¯** æ°¸ä¹…æ€§ç»‘å®š **ï¼Œè¿”å›æ–°å‡½æ•°ã€‚ç®­å¤´å‡½æ•°åˆ™å®Œå…¨æ— è§† bindï¼Œå®ƒçš„ this ç”±è¯æ³•ä½œç”¨åŸŸå†³å®šï¼Œä¼˜å…ˆçº§é«˜äº bindã€‚"

### ** åŠ åˆ† 3ï¼šå®é™…åº”ç”¨åœºæ™¯ **
> "åœ¨å®é™…å¼€å‘ä¸­ï¼Œè¿™ä¸ªç‰¹æ€§å¸¸ç”¨äºï¼š
> - äº‹ä»¶å¤„ç†ï¼š`this.btn.onclick = this.handleClick.bind(this)` ç¡®ä¿å›è°ƒé‡Œ this æŒ‡å‘ç»„ä»¶å®ä¾‹
> - å®šæ—¶å™¨ï¼š`setTimeout(this.update.bind(this), 1000)` é¿å… this ä¸¢å¤±
> - é˜²æ­¢è¯¯ç»‘å®šï¼šbind ä¸€æ¬¡åä¸æ€•è¢«å†ä¿®æ”¹ï¼Œä¿è¯ä¸Šä¸‹æ–‡å®‰å…¨"

### ** åŠ åˆ† 4ï¼šæ‰‹å†™ç®€åŒ–ç‰ˆ bind **
```js
// å±•ç¤ºæ ¸å¿ƒæ€è·¯
Function.prototype.myBind = function(context, ...args) {
  const fn = this; // åŸå‡½æ•°
  return function(...innerArgs) {
    return fn.apply(context, args.concat(innerArgs)); // this å·²é”å®š
  };
};
// è§£é‡Šï¼šè¿”å›çš„å‡½æ•°é‡Œæ°¸ä¹…ä¿å­˜äº† contextï¼Œæ— æ³•è¢«äºŒæ¬¡ä¿®æ”¹
```

---

## **äº”ã€é¿å‘æŒ‡å—ï¼ˆé«˜é¢‘é”™è¯¯ï¼‰**

| é”™è¯¯ç±»å‹                 | é”™è¯¯ç¤ºä¾‹                         | åæœ                        | æ­£ç¡®åšæ³•                                  |
| ------------------------ | -------------------------------- | --------------------------- | ----------------------------------------- |
| ** é‡å¤ç»‘å®šæœŸæœ›ç”Ÿæ•ˆ **   | `fn.bind(a).bind(b)` æœŸæœ› this=b | this ä»æ˜¯ a                 | åª bind ä¸€æ¬¡ï¼Œæˆ–ç”¨å˜é‡ä¿å­˜                |
| ** null/undefined ç»‘å®š** | `fn.bind(null)`                  | this â†’ window/global        | ç”¨ `Object.create(null)` æˆ– `{}` ä½œä¸ºå ä½ |
| **ç®­å¤´å‡½æ•°è¯¯ç”¨ bind**    | `(() => {}).bind(obj)`           | æ— æ•ˆï¼Œthis ä»ç»§æ‰¿å¤–å±‚       | ç®­å¤´å‡½æ•°ä¸éœ€è¦ bind                       |
| **å¿˜è®° bind è¿”å›æ–°å‡½æ•°** | `fn.bind(obj); fn()`             | this æœªæ”¹å˜ï¼ŒåŸå‡½æ•°æœªå—å½±å“ | `const newFn = fn.bind(obj); newFn()`     |

---

## **å…­ã€è¿½é—®é—®é¢˜å‡†å¤‡ï¼ˆé¢è¯•å®˜å¯èƒ½æ·±æŒ–ï¼‰**

### **è¿½é—® 1ï¼šå¦‚ä½•å¼ºåˆ¶æ”¹å˜å·² bind å‡½æ•°çš„ thisï¼Ÿ**
**ç­”**ï¼š**æ— æ³•å¼ºåˆ¶æ”¹å˜**ã€‚å”¯ä¸€åŠæ³•æ˜¯é‡æ–°ç»‘å®šåŸå‡½æ•°ã€‚ä½†å¯ä»¥é€šè¿‡ **æŸ¯é‡ŒåŒ–** å®ç°éƒ¨åˆ†å‚æ•°ä¿®æ”¹ï¼š
```js
const f1 = foo.bind(obj1);
const f2 = f1.bind(null, arg1); // åªèƒ½åŠ å‚æ•°ï¼Œä¸èƒ½æ”¹ this
```

### **è¿½é—® 2ï¼šç®­å¤´å‡½æ•°çš„ this å’Œ bind è°ä¼˜å…ˆï¼Ÿ**
**ç­”**ï¼š**ç®­å¤´å‡½æ•°ä¼˜å…ˆ**ã€‚ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ thisï¼Œå®ƒä¼š** æ— è§† **ä»»ä½• bind/call/applyï¼Œæ°¸è¿œæŒ‡å‘å®šä¹‰æ—¶çš„å¤–å±‚ä½œç”¨åŸŸã€‚

### **è¿½é—® 3ï¼šbind çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°ä¸€ä¸ª polyfillï¼Ÿ**
**ç­”**ï¼šæ ¸å¿ƒæ˜¯ **é—­åŒ… + åå‡½æ•° + æ„é€ å™¨åˆ¤æ–­**ã€‚éœ€å¤„ç†ï¼š
- this ç»‘å®šï¼ˆé€šè¿‡é—­åŒ…ä¿å­˜ï¼‰
- å‚æ•°åˆå¹¶ï¼ˆæŸ¯é‡ŒåŒ–ï¼‰
- new è°ƒç”¨åˆ¤æ–­ï¼ˆbind åçš„å‡½æ•°è¿˜èƒ½è¢« newï¼‰

### **è¿½é—® 4ï¼šä¸¥æ ¼æ¨¡å¼ä¸‹ bind(null) è¡¨ç°æœ‰ä½•ä¸åŒï¼Ÿ**
**ç­”**ï¼šä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ`this` å°±æ˜¯ `null`ï¼Œä¸ä¼š fallback åˆ°å…¨å±€å¯¹è±¡ã€‚è®¿é—® this.name ä¼šæŠ¥é”™ï¼š`Cannot read property 'name' of null`ã€‚

---

## **ä¸ƒã€ä¸€å¥è¯èƒŒè¯µç‰ˆï¼ˆé¢è¯•å®Œæ€»ç»“ï¼‰**

> "Bind ä¸€æ¬¡å®šç»ˆèº«ï¼Œè¿”å›æ–°å‡½æ•°é—­åŒ…é”æ­» thisï¼Œåç»­å† bind ç™½è´¹åŠ²ã€‚è®°ä½ä¼˜å…ˆçº§ new > bind > éšå¼ > é»˜è®¤ï¼Œç®­å¤´å‡½æ•°æ— è§† bindï¼Œnull ç»‘å®šè¦å°å¿ƒå…¨å±€æ±¡æŸ“ã€‚"

---

**ä½¿ç”¨å»ºè®®**ï¼šå…ˆèƒŒç†Ÿ"æ ‡å‡†ç­”æ¡ˆæ¨¡æ¿"ï¼Œç†è§£"å›ç­”è¦ç‚¹"ç»“æ„ï¼Œé¢è¯•æ—¶ä¸»åŠ¨æåŠ 1-2 ä¸ª"åŠ åˆ†é¡¹"ï¼Œæœ€åå¯¹"é¿å‘æŒ‡å—"å¿ƒä¸­æœ‰æ•°ã€‚é‡åˆ°è¿½é—®ä¸è¦æ…Œï¼ŒæŒ‰å‡†å¤‡çš„å†…å®¹é€ä¸€æ‹†è§£å³å¯ã€‚



# é¢è¯•å®˜å¦‚ä½•è€ƒå¯Ÿ 0.1 + 0.2 â‰  0.3ï¼Ÿï¼ˆé™„å›ç­”ç­–ç•¥ï¼‰

## ä¸€ã€é¢è¯•å®˜çš„ 5 ç§è€ƒå¯Ÿæ–¹å¼

### **1. ç›´æ¥æé—®å‹**
> "ä¸ºä»€ä¹ˆ `0.1 + 0.2 !== 0.3`ï¼Ÿ"

**è€ƒå¯Ÿç‚¹**ï¼šåŸºç¡€è®¤çŸ¥ï¼Œæ˜¯å¦äº†è§£æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜

---

### **2. åœºæ™¯åº”ç”¨å‹**
> "ç”¨æˆ·åé¦ˆè´­ç‰©è½¦ç»“ç®— 0.1 + 0.2 æ˜¾ç¤º 0.30000000000000004ï¼Œä½ æ€ä¹ˆå¤„ç†ï¼Ÿ"

**è€ƒå¯Ÿç‚¹**ï¼šå®é™…é—®é¢˜è§£å†³èƒ½åŠ›ï¼Œå·¥ç¨‹åŒ–æ€ç»´

---

### **3. æ·±åº¦è¿½é—®å‹**
> "èƒ½è®²è®² IEEE 754 çš„å…·ä½“å­˜å‚¨ç»“æ„å—ï¼Ÿ53 ä½æœ‰æ•ˆä½æ˜¯æ€ä¹ˆç®—çš„ï¼Ÿ"

**è€ƒå¯Ÿç‚¹**ï¼šåº•å±‚åŸç†æŒæ¡ç¨‹åº¦ï¼ŒæŠ€æœ¯æ·±åº¦

---

### **4. ä»£ç  Review å‹**
```javascript
// è¿™æ®µä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•æ”¹è¿›ï¼Ÿ
function calculate(a, b) {
  return a + b; // å¤„ç†é‡‘é¢
}
```
**è€ƒå¯Ÿç‚¹**ï¼šä»£ç æ•æ„Ÿåº¦ï¼Œé˜²å¾¡æ€§ç¼–ç¨‹æ„è¯†

---

### **5. ç»¼åˆå‘æ•£å‹**
> "é™¤äº† toFixedï¼Œè¿˜æœ‰å“ªäº›æ–¹æ¡ˆï¼Ÿå„è‡ªçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ"

**è€ƒå¯Ÿç‚¹**ï¼šçŸ¥è¯†å¹¿åº¦ï¼Œæ–¹æ¡ˆæƒè¡¡èƒ½åŠ›

---

## äºŒã€å›ç­”æ¡†æ¶ï¼ˆç”±æµ…å…¥æ·±ï¼Œå¿…æ‹¿åˆ†ï¼‰

### **ç¬¬ä¸€å±‚ï¼šç°è±¡è§£é‡Šï¼ˆåŸºç¡€åˆ†ï¼‰**
> "è¿™æ˜¯å› ä¸º JavaScript é‡‡ç”¨ IEEE 754 æ ‡å‡†å­˜å‚¨æµ®ç‚¹æ•°ï¼Œ0.1 å’Œ 0.2 åœ¨äºŒè¿›åˆ¶ä¸‹æ˜¯æ— é™å¾ªç¯å°æ•°ï¼Œ64 ä½ç²¾åº¦æ— æ³•å®Œå…¨å­˜å‚¨ï¼Œå¯¼è‡´è®¡ç®—æ—¶æœ‰å¾®å°èˆå…¥è¯¯å·®ã€‚"

**å…³é”®è¯**ï¼šäºŒè¿›åˆ¶ã€æ— é™å¾ªç¯ã€èˆå…¥è¯¯å·®

---

### **ç¬¬äºŒå±‚ï¼šåŸç†å‰–æï¼ˆåŠ åˆ†é¡¹ï¼‰**
> "å…·ä½“æ¥è¯´ï¼Œ0.1 è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ˜¯ 0.0001100110011... æ— é™å¾ªç¯ã€‚JS çš„ 64 ä½æµ®ç‚¹æ•°ä¸­ï¼Œåªæœ‰ 52 ä½å­˜å°æ•°éƒ¨åˆ†ï¼ŒåŠ ä¸Šéšå«çš„ 1 ä½ï¼Œå…± 53 ä½æœ‰æ•ˆç²¾åº¦ã€‚æ‰€ä»¥ä¼šè¢«æˆªæ–­ä¸ºè¿‘ä¼¼å€¼ï¼Œä¸¤ä¸ªè¿‘ä¼¼å€¼ç›¸åŠ å°±å‡ºç°äº†åå·®ã€‚"

**æŠ€æœ¯ç»†èŠ‚**ï¼š
- 64 ä½ = 1 ç¬¦å·ä½ + 11 æŒ‡æ•°ä½ + 52 å°¾æ•°ä½
- æœ‰æ•ˆç²¾åº¦ â‰ˆ `log10(2^53)` â‰ˆ 15.95 ä½åè¿›åˆ¶æ•°
- 0.1 å®é™…å­˜å‚¨å€¼ï¼š`0.1000000000000000055511151231257827021181583404541015625`

---

### **ç¬¬ä¸‰å±‚ï¼šè§£å†³æ–¹æ¡ˆï¼ˆå®æˆ˜åˆ†ï¼‰**
> "çº¿ä¸Šç¯å¢ƒæˆ‘é€šå¸¸ç”¨è¿™ä¸‰ç§æ–¹æ¡ˆï¼ŒæŒ‰åœºæ™¯é€‰æ‹©ï¼š"

```javascript
// æ–¹æ¡ˆAï¼šé‡‘èè®¡ç®—ï¼ˆç²¾ç¡®åˆ°åˆ†ï¼‰
function add(a, b) {
  return Math.round((a + b) * 100) / 100; // 0.3
}

// æ–¹æ¡ˆBï¼šå±•ç¤ºå±‚å¤„ç†ï¼ˆè¿”å›å­—ç¬¦ä¸²ï¼‰
function formatSum(a, b) {
  return (a + b).toFixed(2); // "0.30"
}

// æ–¹æ¡ˆCï¼šé«˜ç²¾åº¦åº“ï¼ˆå¤æ‚è®¡ç®—ï¼‰
import Decimal from 'decimal.js';
new Decimal('0.1').add('0.2').toNumber(); // 0.3
```

---

### **ç¬¬å››å±‚ï¼šé¿å‘æŒ‡å—ï¼ˆç»éªŒåˆ†ï¼‰**
> "è¿˜éœ€è¦æ³¨æ„ï¼š
> 1. **toFixed è¿”å›å­—ç¬¦ä¸²**ï¼Œæ¯”è¾ƒæ—¶è¦ `result === "0.3"` æˆ–å…ˆè½¬ Number
> 2. **ä¸è¦==æ¯”è¾ƒæµ®ç‚¹æ•°**ï¼Œåº”åˆ¤æ–­ `Math.abs(a - b) < 1e-10`
> 3. **æ•´æ•°ä¹Ÿå—å½±å“**ï¼š`9999999999999999 === 10000000000000000` æ˜¯ true"

---

## ä¸‰ã€åŠ åˆ†é¡¹ä¸å®æˆ˜æŠ€å·§

### **âœ¨ å±•ç¤ºå·¥ç¨‹æ€ç»´**
> "æˆ‘ä»¬å›¢é˜Ÿè§„å®šï¼šæ‰€æœ‰é‡‘é¢è®¡ç®—ç»Ÿä¸€ä¹˜ä»¥ 100 è½¬æ•´æ•°ï¼Œåç«¯ä¼ é‡‘é¢ä¹Ÿç”¨æ•´æ•°ï¼ˆå•ä½ï¼šåˆ†ï¼‰ï¼Œå½»åº•é¿å…æµ®ç‚¹é—®é¢˜ã€‚"

### **âœ¨ å±•ç¤ºåº•å±‚ç†è§£**
> "è¿™ä¸ªç²¾åº¦è¯¯å·®æ˜¯æ‰€æœ‰è¯­è¨€çš„é—®é¢˜ï¼Œä¸åªæ˜¯ JSã€‚Pythonã€Java ä¹Ÿä¸€æ ·ï¼Œå› ä¸ºè¿™æ˜¯ CPU æµ®ç‚¹è¿ç®—å•å…ƒçš„ç‰¹æ€§ã€‚"

### **âœ¨ å±•ç¤ºæ¢ç´¢ç²¾ç¥**
> "æˆ‘å†™è¿‡è„šæœ¬éªŒè¯è¿‡ï¼Œ`Number.EPSILON` åœ¨ JS é‡Œå°±æ˜¯ `2^-52`ï¼Œè¡¨ç¤º 1 å’Œå¯è¡¨ç¤ºçš„å¤§äº 1 çš„æœ€å°å€¼çš„å·®ã€‚å¯ä»¥ç”¨å®ƒæ¥åšè¯¯å·®åˆ¤æ–­ã€‚"

```javascript
// ä¸“ä¸šçº§æ¯”è¾ƒå‡½æ•°
function numbersClose(a, b, epsilon = Number.EPSILON) {
  return Math.abs(a - b) < epsilon;
}
numbersClose(0.1 + 0.2, 0.3); // true
```

---

## å››ã€å®Œæ•´å›ç­”ç¤ºä¾‹ï¼ˆå¯ç›´æ¥èƒŒè¯µï¼‰

**é¢è¯•å®˜**ï¼šä¸ºä»€ä¹ˆ `0.1 + 0.2 !== 0.3`ï¼Ÿ

**å›ç­”**ï¼š

"è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ã€‚æ ¸å¿ƒåŸå› æ˜¯ JavaScript éµå¾ª IEEE 754 æ ‡å‡†ï¼Œç”¨ 64 ä½äºŒè¿›åˆ¶å­˜å‚¨å°æ•°ã€‚ä½† 0.1 å’Œ 0.2 åœ¨äºŒè¿›åˆ¶ä¸‹æ˜¯æ— é™å¾ªç¯å°æ•°ï¼ˆ0.1 = 0.0001100110011...ï¼‰ï¼Œè€Œ 64 ä½åªèƒ½å­˜ 53 ä½æœ‰æ•ˆæ•°å­—ï¼Œæ‰€ä»¥ä¼šè¢«æˆªæ–­æˆè¿‘ä¼¼å€¼ã€‚ä¸¤ä¸ªè¿‘ä¼¼å€¼ç›¸åŠ ï¼Œç»“æœè‡ªç„¶ä¸ä¸¥æ ¼ç­‰äº 0.3ã€‚

**è§£å†³æ–¹æ¡ˆ**æˆ‘é€šå¸¸åˆ†åœºæ™¯ï¼š
1. **å±•ç¤ºå±‚**ï¼šç›´æ¥ç”¨ `(0.1 + 0.2).toFixed(1)` å¾—åˆ°å­—ç¬¦ä¸² "0.3"
2. **è®¡ç®—å±‚**ï¼šç”¨ `Math.round((a + b) * 100) / 100` ä¿ç•™ä¸¤ä½å°æ•°
3. **é‡‘èçº§**ï¼šå¼•å…¥ `decimal.js` ç­‰ä¸“ä¸šåº“ï¼Œé¿å…ç´¯ç§¯è¯¯å·®

**çº¿ä¸Šæ•™è®­**ï¼šä¹‹å‰åšè¿‡ä¸€ä¸ªç”µå•†ç³»ç»Ÿï¼Œæ—©æœŸç”¨æµ®ç‚¹æ•°ç®—è®¢å•é‡‘é¢ï¼Œç´¯ç§¯è¯¯å·®å¯¼è‡´å¯¹è´¦å·® 0.01 å…ƒã€‚åæ¥æ”¹æˆæ‰€æœ‰é‡‘é¢ä»¥'åˆ†'ä¸ºå•ä½å­˜æ•´æ•°ï¼Œé—®é¢˜å½»åº•è§£å†³ã€‚"

---

## äº”ã€å¸¸è§è¿½é—®ä¸åº”å¯¹

| è¿½é—®                              | å›ç­”è¦ç‚¹                                                     |
| --------------------------------- | ------------------------------------------------------------ |
| **"é‚£ä¸ºä»€ä¹ˆ 0.5 + 0.5 ç­‰äº 1ï¼Ÿ"** | 0.5 æ˜¯ 2â»Â¹ï¼ŒäºŒè¿›åˆ¶å¯ç²¾ç¡®è¡¨ç¤ºï¼ˆ0.1ï¼‰ï¼Œæ‰€ä»¥æ²¡é—®é¢˜              |
| **"Number.EPSILON æ˜¯ä»€ä¹ˆï¼Ÿ"**     | 1 å’Œå¤§äº 1 çš„æœ€å°å¯è¡¨ç¤ºæ•°çš„å·®ï¼Œçº¦ 2.2e-16ï¼Œç”¨äºè¯¯å·®æ¯”è¾ƒ      |
| **"ES6 æœ‰åŸç”Ÿè§£å†³æ–¹æ¡ˆå—ï¼Ÿ"**      | `Number.EPSILON` å¯é…åˆå‡½æ•°åšè¯¯å·®åˆ¤æ–­ï¼Œä½†æ²¡æœ‰æ ¹æœ¬è§£å†³å­˜å‚¨é—®é¢˜ |
| **"å…¶ä»–è¯­è¨€æ€ä¹ˆå¤„ç†ï¼Ÿ"**          | Python æœ‰ `decimal` æ¨¡å—ï¼ŒJava ç”¨ `BigDecimal`ï¼ŒåŸç†éƒ½æ˜¯é¿å…äºŒè¿›åˆ¶æµ®ç‚¹ |
| **"å‰ç«¯ä¼ ç»™åç«¯æ€ä¹ˆåŠï¼Ÿ"**        | æ¨èä¼ å­—ç¬¦ä¸²æˆ–æ•´æ•°ï¼ˆå•ä½è½¬æ¢ï¼‰ï¼Œé¿å… JSON åºåˆ—åŒ–åç²¾åº¦è¿›ä¸€æ­¥ä¸¢å¤± |

---

**é¢è¯•æ ¸å¿ƒæç¤º**ï¼š
1. **å…ˆç»™ç»“è®ºå†ç»™ç»†èŠ‚** - å±•ç°é€»è¾‘æ¸…æ™°
2. **å¿…è®²äºŒè¿›åˆ¶èˆå…¥** - ä½“ç°æŠ€æœ¯ç†è§£
3. **ä¸»åŠ¨æè§£å†³æ–¹æ¡ˆ** - å±•ç°å®æˆ˜èƒ½åŠ›
4. **è¡¥å……çœŸå®é¡¹ç›®ç»éªŒ** - æ‹‰æ»¡å¯ä¿¡åº¦

ç¥é¢è¯•é¡ºåˆ©ï¼



# Symbol é¢è¯•é€šå…³æ‰‹å†Œ

## ä¸€ã€æ ¸å¿ƒçŸ¥è¯†æ€»ç»“ï¼ˆé¢è¯•å®˜æƒ³å¬åˆ°çš„ç‚¹ï¼‰

### 1. ä¸€å¥è¯å®šä¹‰
**Symbol æ˜¯ ES6 æ–°å¢çš„ã€è¡¨ç¤ºç‹¬ä¸€æ— äºŒå€¼çš„åŸºç¡€æ•°æ®ç±»å‹ï¼Œä¸»è¦ç”¨äºè§£å†³å‘½åå†²çªå’Œåˆ›å»º"éšå½¢"å±æ€§ã€‚**

### 2. å››å¤§æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§           | è¯´æ˜                                                   | é¢è¯•å…³é”®è¯             |
| -------------- | ------------------------------------------------------ | ---------------------- |
| **å”¯ä¸€æ€§**     | æ¯æ¬¡ `Symbol()` éƒ½ç”Ÿæˆå…¨å±€å”¯ä¸€å€¼ï¼Œå³ä½¿æè¿°ç›¸åŒä¹Ÿä¸ç›¸ç­‰ | è§£å†³å‘½åå†²çªã€é˜²æ­¢è¦†ç›– |
| **ä¸å¯æšä¸¾**   | ä¸å‡ºç°åœ¨ `for...in`ã€`Object.keys()` ç­‰éå†ä¸­          | å±æ€§éšè—ã€å†…éƒ¨å®ç°     |
| **åŸºç¡€ç±»å‹**   | ä¸æ˜¯å¯¹è±¡ï¼Œä¸èƒ½ç”¨ `new` è°ƒç”¨ï¼Œä¸ä¼šè‡ªåŠ¨è½¬å­—ç¬¦ä¸²          | è½»é‡ã€é«˜æ•ˆã€å®‰å…¨       |
| **ä½œä¸ºå±æ€§å** | å¿…é¡»ç”¨ `[]` è®¿é—®ï¼Œä¸èƒ½ç”¨ç‚¹è¯­æ³•                         | è®¿é—®æ–¹å¼ç‰¹æ®Š           |

### 3. å¸¸è§ä½¿ç”¨åœºæ™¯

- **ç¬¬ä¸‰æ–¹åº“å±æ€§ä¿æŠ¤**ï¼šæ’ä»¶ç»™å¯¹è±¡æ‰©å±•æ–¹æ³•æ—¶é¿å…è¦†ç›–ç”¨æˆ·å±æ€§
- **å¸¸é‡å®šä¹‰**ï¼šåˆ›å»ºä¸å¯å˜ã€ä¸é‡å¤çš„æšä¸¾å€¼ï¼ˆå¦‚ Redux çš„ action typeï¼‰
- **ç§æœ‰å±æ€§æ¨¡æ‹Ÿ**ï¼šå­˜å‚¨å¯¹è±¡å†…éƒ¨çŠ¶æ€ï¼Œå¤–éƒ¨æ— æ³•éå†åˆ°
- **å…ƒç¼–ç¨‹**ï¼šä½¿ç”¨å†…ç½® Symbolï¼ˆå¦‚ `Symbol.iterator`ï¼‰æ”¹å˜å¯¹è±¡è¡Œä¸º

---

## äºŒã€é¢è¯•å®˜å¯èƒ½çš„è€ƒå¯Ÿæ–¹å¼ & å›ç­”æ¨¡æ¿

### â“ é—®é¢˜1ï¼šSymbol æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ

**å›ç­”è¦ç‚¹ï¼ˆ3å¥è¯ï¼‰ï¼š**
1. "Symbol æ˜¯ ES6 å¼•å…¥çš„ç¬¬ä¸ƒç§åŸºç¡€æ•°æ®ç±»å‹ï¼Œç”¨æ¥åˆ›å»ºå”¯ä¸€æ ‡è¯†ç¬¦ã€‚"
2. "å®ƒçš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯æ¯æ¬¡è°ƒç”¨éƒ½è¿”å›ä¸åŒçš„å€¼ï¼Œå³ä½¿æè¿°æ–‡å­—ç›¸åŒï¼Œä¹Ÿä¸ä¼šé‡å¤ã€‚"
3. "è¿™è®©å®ƒç‰¹åˆ«é€‚åˆä½œä¸ºå¯¹è±¡å±æ€§åï¼Œèƒ½å½»åº•è§£å†³å¤šäººåä½œæ—¶çš„å‘½åå†²çªé—®é¢˜ã€‚"

**åŠ åˆ†é¡¹ï¼š** æåˆ° "åŸºç¡€ç±»å‹" å’Œ "ä¸èƒ½ç”¨ new" ä½“ç°ç†è§£æ·±åº¦ã€‚

---

### â“ é—®é¢˜2ï¼šè¿™æ®µä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ

```javascript
const a = Symbol('test');
const b = Symbol('test');
const obj = {
  [a]: 'hello',
  [b]: 'world',
  test: 'normal'
};
console.log(obj[a] === obj[b]); // ?
console.log(a === b); // ?
console.log(Object.keys(obj)); // ?